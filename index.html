<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Juego de Objetos - Letras con voz</title>
  <style>
    :root { --boton-bg: #007bff; --boton-hover: #0056b3; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Arial, Helvetica, sans-serif;
      background: #f4f4f4;
    }

    #contenedor {
      width: 100%;
      max-width: 1100px;
      padding: 18px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #imagen {
      width: 80vw;
      max-width: 1000px;
      height: 60vh;
      max-height: 700px;
      object-fit: contain;
      border-radius: 18px;
      background: #fff;
      padding: 18px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      display: block;
    }

    #textoGrande {
      width: 80vw;
      max-width: 1000px;
      height: 60vh;
      max-height: 700px;
      display: none;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      padding: 8px;
      box-sizing: border-box;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: #111;
      user-select: none;
    }

    #textoGrande .letra {
      font-weight: 900;
      line-height: 1;
      font-size: 24vh;
      text-shadow: 
        4px 4px 0px #ff8c00,
        8px 8px 8px rgba(0,0,0,0.3);
      color: #ff3b3b;
      padding: 10px 30px;
      border-radius: 20px;
      background: linear-gradient(135deg, #fff7e6, #ffe0b3);
      border: 6px solid #ff9900;
      box-shadow: 0 0 30px rgba(255,140,0,0.4);
      animation: pop 0.4s ease;
    }

    @keyframes pop {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .botonera {
      margin-top: 18px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    button {
      padding: 12px 20px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      background: var(--boton-bg);
      color: white;
      cursor: pointer;
      box-shadow: 0 6px 12px rgba(0,0,0,0.12);
    }

    button:hover { background: var(--boton-hover); }

    @media (max-width: 768px) {
      button {
        flex: 1 1 45%;
      }
    }


    @media (max-width: 480px) {
  #imagen {
    width: 90vw;
    height: 45vh;
  }

  #textoGrande {
    width: 90vw;
    height: 45vh;
  }

  #textoGrande .letra {
    font-size: 18vh;
    padding: 5px 15px;
  }

  .botonera {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  button {
    width: 100%;
    font-size: 16px;
    padding: 10px;
  }
}


  </style>
</head>
<body>
  <div id="contenedor">
    <img id="imagen" src="img/manzana.jpeg" alt="Objeto" />

    <div id="textoGrande" aria-hidden="true">
      <div class="letra" id="letraTexto"></div>
    </div>

    <div class="botonera">
      <button id="btnSiguiente">Siguiente objeto</button>
      <button id="btnVocales">Modo: Vocales</button>
      <button id="btnAbecedario">Modo: Abecedario</button>
      <button id="btnNextLetra">Siguiente letra</button>
    </div>
  </div>

<script>
  // ---------- Datos ----------
  const imagenes = [
    "img/manzana.jpeg","img/paragua.webp","img/zapato.png","img/mono.jpg","img/lente.jpg",
    "img/cono.jpeg","img/caracol.webp","img/almohada.webp","img/carro.webp","img/cereza.jpeg",
    "img/computadora.webp","img/corbata.jpg","img/doctor.png","img/elefante.webp","img/estrella.jpg",
    "img/jirafa.jpg","img/lapiz.webp","img/naranja.jpg","img/peine.jpeg","img/pera.jpg",
    "img/pez.jpeg","img/piña.jpg","img/pollo.jpg","img/sol.jpg","img/sombrero.webp",
    "img/telefono.jpeg","img/tren.png","img/vaca.png"
  ];

  const vocales = ["A","E","I","O","U"];
  const abecedario = "A B C D E F G H I J K L M N Ñ O P Q R S T U V W X Y Z".split(" ");
  const numeros = Array.from({length: 21}, (_, i) => i.toString());
  const colores = [
    "Rojo", "Azul", "Verde", "Amarillo", "Naranja",
    "Morado", "Negro", "Blanco", "Rosa", "Café"
  ];

  // ✅ asignar colores reales para fondo
  const coloresHex = {
    "Rojo": "#ff0000",
    "Azul": "#0000ff",
    "Verde": "#00cc00",
    "Amarillo": "#ffff00",
    "Naranja": "#ff9900",
    "Morado": "purple",
    "Negro": "#000000",
    "Blanco": "#ffffff",
    "Rosa": "#ff69b4",
    "Café": "#8b4513"
  };

  const pronunciar = {
    "A": "a","B": "be","C": "ce","D": "de","E": "e","F": "efe","G": "ge","H": "hache",
    "I": "i","J": "jota","K": "ka","L": "ele","M": "eme","N": "ene","Ñ": "eñe",
    "O": "o","P": "pe","Q": "cu","R": "erre","S": "ese","T": "te","U": "u","V": "uve",
    "W": "doble uve","X": "equis","Y": "ye","Z": "zeta",

    "0": "cero","1": "uno","2": "dos","3": "tres","4": "cuatro","5": "cinco",
    "6": "seis","7": "siete","8": "ocho","9": "nueve","10": "diez","11": "once","12": "doce",
    "13": "trece","14": "catorce","15": "quince","16": "dieciséis","17": "diecisiete",
    "18": "dieciocho","19": "diecinueve","20": "veinte",

    "Rojo": "rojo","Azul": "azul","Verde": "verde","Amarillo": "amarillo",
    "Naranja": "naranja","Morado": "morado","Negro": "negro","Blanco": "blanco",
    "Rosa": "rosa","Café": "café"
  };

  let modo = "imagenes";
  let idxImagen = 0;
  let idxLetra = 0;

  const elImagen = document.getElementById("imagen");
  const contTexto = document.getElementById("textoGrande");
  const letraTexto = document.getElementById("letraTexto");

  const btnSiguiente = document.getElementById("btnSiguiente");
  const btnVocales = document.getElementById("btnVocales");
  const btnAbecedario = document.getElementById("btnAbecedario");
  const btnNextLetra = document.getElementById("btnNextLetra");

  let preferredVoice = null;

  function elegirVozPreferida() {
    const voices = speechSynthesis.getVoices();
    if (!voices || voices.length === 0) return;
    preferredVoice =
      voices.find(v => v.lang.toLowerCase().includes("es") && /female|mujer|woman|sofia|maria|laura/i.test(v.name)) ||
      voices.find(v => v.lang.toLowerCase().includes("es")) ||
      voices[0];
  }

  speechSynthesis.onvoiceschanged = elegirVozPreferida;
  setTimeout(elegirVozPreferida, 800);

  function speak(text) {
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(text);
    u.lang = "es-ES";
    u.rate = 0.9;
    if (preferredVoice) u.voice = preferredVoice;
    speechSynthesis.speak(u);
  }

  function mostrarLetra(letra) {

    elImagen.style.display = "none";
    contTexto.style.display = "flex";

    letraTexto.textContent = letra;

    // ✅ aplicar colores de fondo en modo colores
    if (modo === "colores") {
      const fondo = coloresHex[letra] || "#ffffff";
      contTexto.style.background = fondo;

      // texto legible
      letraTexto.style.color = (letra === "Blanco" || letra === "Amarillo") ? "#000000" : "#ffffff";

      // borrar sombras decorativas para colores
      letraTexto.style.textShadow = "2px 2px 10px rgba(0,0,0,0.6)";
      letraTexto.style.background = "transparent";
      letraTexto.style.border = "none";
      letraTexto.style.boxShadow = "none";
    } else {
      // ✅ restaurar diseño original para letras/números
      contTexto.style.background = "#fff";

      letraTexto.style.color = "#ff3b3b";
      letraTexto.style.textShadow =
        "4px 4px 0px #ff8c00,8px 8px 8px rgba(0,0,0,0.3)";
      letraTexto.style.background = "linear-gradient(135deg,#fff7e6,#ffe0b3)";
      letraTexto.style.border = "6px solid #ff9900";
      letraTexto.style.boxShadow = "0 0 30px rgba(255,140,0,0.4)";
    }

    const texto = pronunciar[letra] || letra;
    speak(texto);
  }

  function mostrarModoImagenes() {
    modo = "imagenes";
    contTexto.style.display = "none";
    elImagen.style.display = "block";
    elImagen.src = imagenes[idxImagen];
  }

  // Botones
  btnSiguiente.addEventListener("click", () => {
    idxImagen = (idxImagen + 1) % imagenes.length;
    mostrarModoImagenes();
  });

  btnVocales.addEventListener("click", () => {
    modo = "vocales";
    idxLetra = 0;
    mostrarLetra(vocales[idxLetra]);
  });

  btnAbecedario.addEventListener("click", () => {
    modo = "abc";
    idxLetra = 0;
    mostrarLetra(abecedario[idxLetra]);
  });

  const btnNumeros = document.createElement("button");
  btnNumeros.textContent = "Modo: Números";
  document.querySelector(".botonera").appendChild(btnNumeros);

  btnNumeros.addEventListener("click", () => {
    modo = "numeros";
    idxLetra = 0;
    mostrarLetra(numeros[idxLetra]);
  });

  const btnColores = document.createElement("button");
  btnColores.textContent = "Modo: Colores";
  document.querySelector(".botonera").appendChild(btnColores);

  btnColores.addEventListener("click", () => {
    modo = "colores";
    idxLetra = 0;
    mostrarLetra(colores[idxLetra]);
  });

  btnNextLetra.addEventListener("click", () => {
    if (modo === "vocales") {
      idxLetra = (idxLetra + 1) % vocales.length;
      mostrarLetra(vocales[idxLetra]);
    } else if (modo === "abc") {
      idxLetra = (idxLetra + 1) % abecedario.length;
      mostrarLetra(abecedario[idxLetra]);
    } else if (modo === "numeros") {
      idxLetra = (idxLetra + 1) % numeros.length;
      mostrarLetra(numeros[idxLetra]);
    } else if (modo === "colores") {
      idxLetra = (idxLetra + 1) % colores.length;
      mostrarLetra(colores[idxLetra]);
    } else {
      idxImagen = (idxImagen + 1) % imagenes.length;
      mostrarModoImagenes();
    }
  });

  window.addEventListener("load", () => {
    elImagen.src = imagenes[idxImagen];
    setTimeout(elegirVozPreferida, 100);
  });
</script>

</body>
</html>
